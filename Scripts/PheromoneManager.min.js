var AntColony=(function(a){function b(){var g=[],c=[],f=6,e={};function d(){var i,h;for(i=0,h=g.length;i<h;i++){if(g[i].getStrength()<0){g.splice(i,1);i--;h--}}}e.addPheromone=function(o,j,k){var h=a.createPheromone(o.x,o.y,j.x,j.y,k),n,i,m;k=k||"food";if(k==="food"){m=g}else{if(k==="home"){m=c}}for(n=0,i=m.length;n<i;n++){if(a.Vector.withinDistance(m[n].position,h.position,f)){m[n].combine(h);return}}m.push(h)};e.getPheromoneDirection=function(o,j,k){var i=[],n,m,h;k=k||"food";if(k==="food"){n=g}else{if(k==="home"){n=c}}for(m=0,h=n.length;m<h;m++){if(a.Vector.withinDistance(n[m].position,o,j)){i.push(n[m].direction)}}return a.Vector.average(i)};e.update=function(){for(var i=0,h=g.length;i<h;i++){g[i].update()}d()};return e}a.createPheromoneManager=b;return a}(AntColony||{}));