var AntColony=(function(a){function b(n,m,e){var g=new a.Vector(0,0),o=1.2,j=new a.Steerer(),l=false,h=20,f=5,i=a.createEntity(n,m,"Images/Ant.png",14,7);function d(r){if(a.Vector.prototype.withinDistance(i.position,e.position,f)){l=false;return}g.add(j.seek(i.position,e.position,g,o));var q=j.wander(g);q.multiply(0.5);g.add(q);var p=new a.Vector(g.x,g.y);p.multiply(-1);r.addPheromone(i.position,p)}function c(s,r){var p=a.Vector.prototype.distanceBetween(i.position,s.position);if(p<f){l=true;s.takeFoodBit()}else{if(p<h){g.add(j.seek(i.position,s.position,g,o))}else{var q=r.getPheromoneDirection(i.position,h);if(q.x===0&&q.y===0){g.add(j.wander(g));return}g=q}}}function k(q,p){if(l){d(p)}else{c(q,p)}}i.update=function(r,q){var p=r.closestFood(i.position);k(p,q);g.scale(o);i.position.add(g);i.setRotation(Math.atan2(g.y,g.x))};i.antHill=e;i.velocity=g;i.maxSpeed=o;return i}a.createAnt=b;return a}(AntColony||{}));